# ShutterHub v2

æ’®å½±ä¼šäºˆç´„ã‚·ã‚¹ãƒ†ãƒ  - ãƒ¢ãƒ‡ãƒ«ã€ã‚«ãƒ¡ãƒ©ãƒãƒ³ã€æ’®å½±ä¼šé‹å–¶è€…ã‚’ã¤ãªãçµ±åˆå‹ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ 

## ğŸ¯ æ¦‚è¦

ShutterHub v2ã¯ã€æ’®å½±æ¥­ç•Œã®ä¸‰è€…ï¼ˆãƒ¢ãƒ‡ãƒ«ã€ã‚«ãƒ¡ãƒ©ãƒãƒ³ã€é‹å–¶è€…ï¼‰ã‚’ã¤ãªãé©æ–°çš„ãªãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã§ã™ã€‚å¾“æ¥ã®æ’®å½±ä¼šäºˆç´„ã‚·ã‚¹ãƒ†ãƒ ã«åŠ ãˆã€ã€Œå³åº§æ’®å½±ãƒªã‚¯ã‚¨ã‚¹ãƒˆæ©Ÿèƒ½ã€ã«ã‚ˆã‚Šã€Œæ’®å½±æ¥­ç•Œã®Uberã€ã¨ã—ã¦å±•é–‹ã—ã¾ã™ã€‚

## âœ¨ ä¸»è¦æ©Ÿèƒ½

### Phase 1 (MVP)
- ğŸ” èªè¨¼ãƒ»ã‚¢ã‚«ã‚¦ãƒ³ãƒˆç®¡ç†
- ğŸ“… æ’®å½±ä¼šç®¡ç†ãƒ»äºˆç´„ã‚·ã‚¹ãƒ†ãƒ ï¼ˆå…ˆç€é †ï¼‰
- ğŸ” æ¤œç´¢ãƒ»ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°æ©Ÿèƒ½
- ğŸ‘¤ ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ç®¡ç†
- ğŸ“§ åŸºæœ¬é€šçŸ¥ã‚·ã‚¹ãƒ†ãƒ 

### Phase 2 (æ‹¡å¼µæ©Ÿèƒ½)
- ğŸ² é«˜åº¦ãªäºˆç´„ã‚·ã‚¹ãƒ†ãƒ ï¼ˆæŠ½é¸ã€å„ªå…ˆäºˆç´„ã€ã‚­ãƒ£ãƒ³ã‚»ãƒ«å¾…ã¡ï¼‰
- â­ è©•ä¾¡ãƒ»ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚·ã‚¹ãƒ†ãƒ 
- ğŸ’³ æ±ºæ¸ˆæ©Ÿèƒ½ï¼ˆStripeï¼‰
- ğŸ“Š ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ©ãƒ³ã‚¯ã‚·ã‚¹ãƒ†ãƒ 

### Phase 3 (å·®åˆ¥åŒ–æ©Ÿèƒ½)
- âš¡ å³åº§æ’®å½±ãƒªã‚¯ã‚¨ã‚¹ãƒˆæ©Ÿèƒ½
- ğŸ“š StudioWikiï¼ˆã‚¹ã‚¿ã‚¸ã‚ªæƒ…å ±å…±æœ‰ï¼‰
- ğŸ¤– AIæ©Ÿèƒ½ãƒ»æ¨è–¦ã‚·ã‚¹ãƒ†ãƒ 

### ç®¡ç†è€…æ©Ÿèƒ½
- ğŸ›¡ï¸ äº‰è­°è§£æ±ºã‚·ã‚¹ãƒ†ãƒ ï¼ˆã‚¨ã‚¹ã‚¯ãƒ­ãƒ¼æ±ºæ¸ˆç®¡ç†ï¼‰
- ğŸ‘¨â€ğŸ’¼ ç®¡ç†è€…æ¨©é™ç®¡ç†ï¼ˆadmin/super_adminï¼‰
- ğŸ“Š çµ±è¨ˆãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰
- ğŸ“ ã‚¢ã‚¯ãƒ†ã‚£ãƒ“ãƒ†ã‚£ãƒ­ã‚°

## ğŸ› ï¸ æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

- **ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰**: Next.js 15, React 19, TypeScript
- **UI**: Shadcn/ui + TailwindCSS
- **ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰**: Supabase (èªè¨¼ã€DBã€ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸)
- **æ±ºæ¸ˆ**: Stripe
- **ãƒ‡ãƒ—ãƒ­ã‚¤**: Vercel
- **åœ°å›³**: OpenStreetMap + Leaflet.js

## ğŸš€ é–‹ç™ºç’°å¢ƒã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

### å‰ææ¡ä»¶
- Node.js 18.xä»¥ä¸Š
- npm 8.xä»¥ä¸Š

### ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

```bash
# ãƒªãƒã‚¸ãƒˆãƒªã‚’ã‚¯ãƒ­ãƒ¼ãƒ³
git clone https://github.com/your-username/shutter-hub-v2.git
cd shutter-hub-v2

# ä¾å­˜é–¢ä¿‚ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
npm install

# ç’°å¢ƒå¤‰æ•°ã‚’è¨­å®š
cp .env.example .env.local
# .env.localã‚’ç·¨é›†ã—ã¦å¿…è¦ãªç’°å¢ƒå¤‰æ•°ã‚’è¨­å®š

# é–‹ç™ºã‚µãƒ¼ãƒãƒ¼ã‚’èµ·å‹•
npm run dev
```

### Supabase MCPé€£æºã®ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

(https://supabase.com/docs/guides/getting-started/mcp?queryGroups=os&os=mac)
Cursorå†…ã§Supabase MCPé€£æºãŒå‹•ä½œã—ãªã„å ´åˆã¯ã€ä»¥ä¸‹ã®æ‰‹é †ã§ã‚¢ã‚¯ã‚»ã‚¹ãƒˆãƒ¼ã‚¯ãƒ³ã‚’æ›´æ–°ã—ã¦ãã ã•ã„ï¼š

1. **ãƒ‘ãƒ¼ã‚½ãƒŠãƒ«ã‚¢ã‚¯ã‚»ã‚¹ãƒˆãƒ¼ã‚¯ãƒ³ã®ç”Ÿæˆ**
   - [Supabase Dashboard - Access Tokens](https://supabase.com/dashboard/account/tokens)ã«ã‚¢ã‚¯ã‚»ã‚¹
   - ã€ŒGenerate new tokenã€ã‚’ã‚¯ãƒªãƒƒã‚¯
   - é©åˆ‡ãªæ¨©é™ã‚’è¨­å®šã—ã¦ãƒˆãƒ¼ã‚¯ãƒ³ã‚’ç”Ÿæˆ

2. **MCPè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã®æ›´æ–°**
   ```json
   // ~/.cursor/mcp.json
   {
     "mcpServers": {
       "supabase": {
         "command": "npx",
         "args": ["-y", "@supabase/mcp-server-supabase@latest"],
         "env": {
           "SUPABASE_ACCESS_TOKEN": "æ–°ã—ãç”Ÿæˆã—ãŸãƒˆãƒ¼ã‚¯ãƒ³ã‚’ã“ã“ã«è¨­å®š"
         }
       }
     }
   }
   ```

3. **Cursorã®å†èµ·å‹•**
   - MCPè¨­å®šã®å¤‰æ›´ã‚’åæ˜ ã•ã›ã‚‹ãŸã‚ã€Cursorã‚’å®Œå…¨ã«å†èµ·å‹•

> **æ³¨æ„**: service_roleã‚­ãƒ¼ã§ã¯ãªãã€ãƒ‘ãƒ¼ã‚½ãƒŠãƒ«ã‚¢ã‚¯ã‚»ã‚¹ãƒˆãƒ¼ã‚¯ãƒ³ï¼ˆ`sbp_v0_`ã§å§‹ã¾ã‚‹ï¼‰ã‚’ä½¿ç”¨ã—ã¦ãã ã•ã„ã€‚

### åˆ©ç”¨å¯èƒ½ãªã‚¹ã‚¯ãƒªãƒ—ãƒˆ

```bash
npm run dev          # é–‹ç™ºã‚µãƒ¼ãƒãƒ¼èµ·å‹•ï¼ˆTurbopackä½¿ç”¨ï¼‰
npm run build        # ãƒ—ãƒ­ãƒ€ã‚¯ã‚·ãƒ§ãƒ³ãƒ“ãƒ«ãƒ‰
npm run start        # ãƒ—ãƒ­ãƒ€ã‚¯ã‚·ãƒ§ãƒ³ã‚µãƒ¼ãƒãƒ¼èµ·å‹•
npm run lint         # ESLintãƒã‚§ãƒƒã‚¯
npm run lint:fix     # ESLintè‡ªå‹•ä¿®æ­£
npm run format       # Prettierå®Ÿè¡Œ
npm run format:check # Prettierãƒã‚§ãƒƒã‚¯
npm run type-check   # TypeScriptã‚¿ã‚¤ãƒ—ãƒã‚§ãƒƒã‚¯
```

## ğŸ“ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹æˆ

```
src/
â”œâ”€â”€ app/                 # Next.js App Router
â”œâ”€â”€ components/          # Reactã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”œâ”€â”€ ui/             # Shadcn/uiåŸºæœ¬ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”œâ”€â”€ layout/         # ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”œâ”€â”€ auth/           # èªè¨¼é–¢é€£
â”‚   â”œâ”€â”€ profile/        # ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«é–¢é€£
â”‚   â”œâ”€â”€ photo-sessions/ # æ’®å½±ä¼šé–¢é€£
â”‚   â”œâ”€â”€ booking/        # äºˆç´„é–¢é€£
â”‚   â”œâ”€â”€ search/         # æ¤œç´¢é–¢é€£
â”‚   â”œâ”€â”€ instant/        # å³åº§æ’®å½±é–¢é€£
â”‚   â””â”€â”€ studio-wiki/    # StudioWikié–¢é€£
â”œâ”€â”€ hooks/              # ã‚«ã‚¹ã‚¿ãƒ ãƒ•ãƒƒã‚¯
â”œâ”€â”€ lib/                # ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ãƒ»è¨­å®š
â”‚   â”œâ”€â”€ auth/          # èªè¨¼ãƒ©ã‚¤ãƒ–ãƒ©ãƒª
â”‚   â”œâ”€â”€ db/            # ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹é–¢é€£
â”‚   â””â”€â”€ utils/         # ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£é–¢æ•°
â”œâ”€â”€ types/              # TypeScriptå‹å®šç¾©
â””â”€â”€ constants/          # å®šæ•°å®šç¾©
```

## ğŸ¨ ãƒ‡ã‚¶ã‚¤ãƒ³ã‚·ã‚¹ãƒ†ãƒ 

### ã‚«ãƒ©ãƒ¼ãƒ‘ãƒ¬ãƒƒãƒˆ
- **ãƒ—ãƒ©ã‚¤ãƒãƒªãƒ¼**: #6F5091 (ç´«)
- **ã‚»ã‚«ãƒ³ãƒ€ãƒªãƒ¼**: #101820 (ãƒ€ãƒ¼ã‚¯ã‚°ãƒ¬ãƒ¼)
- **ã‚¢ã‚¯ã‚»ãƒ³ãƒˆ**: #FF6B6B (èµ¤)
- **æˆåŠŸ**: #4ECDC4 (é’ç·‘)
- **è­¦å‘Š**: #FFE66D (é»„)
- **æƒ…å ±**: #4D96FF (é’)

### ãƒ•ã‚©ãƒ³ãƒˆ
- **æ—¥æœ¬èª**: Noto Sans JP
- **è‹±èª**: Inter
- **ã‚¢ã‚¤ã‚³ãƒ³**: Lucide React

## ğŸ“‹ é–‹ç™ºãƒ«ãƒ¼ãƒ«

### ã‚³ãƒŸãƒƒãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
Conventional Commitsã«å¾“ã£ã¦ãã ã•ã„ï¼š
```
feat: æ–°æ©Ÿèƒ½è¿½åŠ 
fix: ãƒã‚°ä¿®æ­£
docs: ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ›´æ–°
style: ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆå¤‰æ›´
refactor: ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°
test: ãƒ†ã‚¹ãƒˆè¿½åŠ ãƒ»ä¿®æ­£
chore: ãã®ä»–ã®å¤‰æ›´
```

### ã‚³ãƒ¼ãƒ‰ã‚¹ã‚¿ã‚¤ãƒ«
- ESLint + Prettierè¨­å®šæ¸ˆã¿
- pre-commitãƒ•ãƒƒã‚¯ã§ã‚³ãƒ¼ãƒ‰å“è³ªã‚’è‡ªå‹•ãƒã‚§ãƒƒã‚¯
- TypeScript strict modeæœ‰åŠ¹

## ğŸ“š ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

è©³ç´°ãªè¨­è¨ˆãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¯`rules/`ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’å‚ç…§ã—ã¦ãã ã•ã„ï¼š
- `detailed-requirements.mdc` - è©³ç´°è¦ä»¶å®šç¾©
- `implementation-plan.mdc` - å®Ÿè£…è¨ˆç”»æ›¸
- `system-requirements.mdc` - ã‚·ã‚¹ãƒ†ãƒ è¦ä»¶

### ç®¡ç†è€…å‘ã‘ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
- [`docs/admin-setup.md`](./docs/admin-setup.md) - ç®¡ç†è€…ã‚¢ã‚«ã‚¦ãƒ³ãƒˆä½œæˆãƒ»ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—æ‰‹é †
- `/admin/disputes` - äº‰è­°è§£æ±ºç®¡ç†ç”»é¢
- `/admin/invite/[token]` - ç®¡ç†è€…æ‹›å¾…å—è«¾ç”»é¢

## ğŸ¤ ã‚³ãƒ³ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³

1. ãƒ•ã‚£ãƒ¼ãƒãƒ£ãƒ¼ãƒ–ãƒ©ãƒ³ãƒã‚’ä½œæˆ
2. å¤‰æ›´ã‚’å®Ÿè£…
3. ãƒ†ã‚¹ãƒˆã‚’è¿½åŠ ãƒ»å®Ÿè¡Œ
4. ãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’ä½œæˆ

## ğŸ“„ ãƒ©ã‚¤ã‚»ãƒ³ã‚¹

ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯MITãƒ©ã‚¤ã‚»ãƒ³ã‚¹ã®ä¸‹ã§å…¬é–‹ã•ã‚Œã¦ã„ã¾ã™ã€‚

## ğŸ”— é–¢é€£ãƒªãƒ³ã‚¯

- [Next.js Documentation](https://nextjs.org/docs)
- [Shadcn/ui Documentation](https://ui.shadcn.com)
- [Supabase Documentation](https://supabase.com/docs)
- [TailwindCSS Documentation](https://tailwindcss.com/docs)
